<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Release Notes for FP-AI-VISION1 package</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="_htmresc/mini-st.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="row">
<div class="col-sm-12 col-lg-4">
<div class="card fluid">
<div class="sectione dark">
<center>
<h1 id="release-notes-for-fp-ai-vision1-package"><small>Release Notes for</small> <strong>FP-AI-VISION1 Package</strong></h1>
<p>Copyright © 2022 STMicroelectronics</p>
<a href="https://www.st.com" class="logo"><img src="_htmresc/st_logo.png" alt="ST logo" /></a>
</center>
</div>
</div>
<h1 id="purpose">Purpose</h1>
<p>FP-AI-VISION1 is an <a href="https://www.st.com/content/st_com/en/stm32cube-ecosystem.html">STM32Cube</a> function pack featuring examples of computer vision applications based on Convolutional Neural Network (CNN).</p>
<p>FP-AI-VISION1 is composed of software components generated by the <a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> Expansion Package complemented with application software components dedicated to the AI-based computer vision example for food recognition.</p>
<p>FP-AI-VISION1 enables advanced computer-vision application on the basis of outputs generated by neural networks (NNs). The NNs are implemented by libraries generated by the <a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> Expansion Package for the <a href="https://www.st.com/en/development-tools/stm32cubemx.html">STM32CubeMX</a> tool. The examples provided in the function pack are:</p>
<ul>
<li>Food Recognition application based on a FD-MobileNet CNN model. It recognizes among 18 classes of common foods and drinks such as beer, pizza, hamburger, and Caesar salad.</li>
<li>Two Person Presence Detection applications identifying whether a person is present in the image or not. The first application is based on a low complexity MobileNetV1 0.25 model, and the second application is based on a medium complexity MobileNetV2 0.35 model.</li>
<li>USB Webcam application to enable the STM32H7 to act as a USB Video Camera device. The USB Webcam application can be used to create image and video datasets as well as performing live testing on the host using the B-CAMS-OMV camera bundle or STM32F4DIS-CAM.</li>
</ul>
<p>The function pack demonstrates the integrations of both floating-point model and 8-bits quantized model generated by the quantization tool featured by <a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a>.</p>
<p>FP-AI-VISION1, together with the suggested combination of HW boards, is used to develop specific computer-vision applications: it includes the drivers for the camera as well as the framework for capturing images into the frame buffer, pre-processing the content of the frame buffer so to convert to expected model input formats, and running the Neural Network inference.</p>
<p>FP-AI-VISION1 runs on the <a href="https://www.st.com/en/evaluation-tools/stm32h747i-disco.html">STM32H747I-DISCO</a> Discovery board connected to the B-CAMS-OMV camera bundle or STM32F4DIS-CAM through the STMicroelectronics DCMI parallel interface.</p>
<figure>
<img src="_htmresc/FP-AI-VISION1-Software_Architecture.svg" alt="FP-AI-VISION1 Software Architecture" /><figcaption aria-hidden="true">FP-AI-VISION1 Software Architecture</figcaption>
</figure>
<p>Here is the list of references to user documents:</p>
<ul>
<li><a href="https://www.st.com/content/ccc/resource/technical/document/user_manual/group1/69/bb/ec/5d/78/16/43/ce/DM00570145/files/DM00570145.pdf/jcr:content/translations/en.DM00570145.pdf">UM2526</a> : Getting started with X-CUBE-AI Expansion Package for Artificial Intelligence (AI)</li>
<li><a href="https://www.st.com/content/ccc/resource/technical/document/user_manual/10/c5/1a/43/3a/70/43/7d/DM00104712.pdf/files/DM00104712.pdf/jcr:content/translations/en.DM00104712.pdf">UM1718</a> : STM32CubeMX for STM32 configuration and initialization C code generation</li>
<li><a href="https://www.st.com/content/ccc/resource/technical/document/user_manual/group1/8c/0d/8b/87/b4/31/47/c3/DM00504240/files/DM00504240.pdf/jcr:content/translations/en.DM00504240.pdf">UM2411</a> : Discovery kit with STM32H747XI MCU</li>
</ul>
</div>
<section id="update-history" class="col-sm-12 col-lg-8">
<h1>Update History</h1>
<div class="collapse">
<input type="checkbox" id="collapse-section7" checked aria-hidden="true"> <label for="collapse-section7" aria-hidden="true"><strong>V3.1.0 / 14-January-2022</strong></label>
<div>
<h2 id="main-changes">Main Changes</h2>
<ul>
<li>Update to use Ai runtime 7.1.0</li>
<li>Addition of the STM32 Image Processing library</li>
</ul>
<h2 id="contents">Contents</h2>
<h3 id="projects">Projects</h3>
<p>The FP-AI-VISION1 package comes with several image classification application examples and a USB Video device class (Webcam) application running on the <a href="https://www.st.com/en/evaluation-tools/stm32h747i-disco.html">STM32H747I-DISCO</a> board.</p>
<h3 id="stm32h747i-disco">STM32H747I-DISCO</h3>
<ul>
<li>Applications (<a href="Projects/STM32H747I-DISCO/Applications/Release_Notes.html">release notes</a>)</li>
</ul>
<h2 id="known-limitations">Known Limitations</h2>
<ul>
<li>When compiling with Keil, following warnings are present: attribute “<strong>packed</strong>” does not apply here</li>
</ul>
<h2 id="development-toolchains-and-compilers">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.50.6</li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.28.0</li>
<li>STM32CubeIDE toolchain V1.5.0</li>
</ul>
<h2 id="supported-devices-and-boards">Supported Devices and Boards</h2>
<ul>
<li>STM32H747I-DISCO rev.D</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<p>This software release is compatible with:</p>
<ul>
<li><a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> V7.1.0</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section6" aria-hidden="true"> <label for="collapse-section6" aria-hidden="true"><strong>V3.0.0 / 06-June-2021</strong></label>
<div>
<h2 id="main-changes-1">Main Changes</h2>
<ul>
<li>Update to use Ai runtime 6.0.0</li>
<li>Addition of the people counting demo</li>
</ul>
<h2 id="contents-1">Contents</h2>
<h3 id="projects-1">Projects</h3>
<p>The FP-AI-VISION1 package comes with several image classification application examples and a USB Video device class (Webcam) application running on the <a href="https://www.st.com/en/evaluation-tools/stm32h747i-disco.html">STM32H747I-DISCO</a> board.</p>
<h3 id="stm32h747i-disco-1">STM32H747I-DISCO</h3>
<ul>
<li>Applications (<a href="Projects/STM32H747I-DISCO/Applications/Release_Notes.html">release notes</a>)</li>
</ul>
<h2 id="known-limitations-1">Known Limitations</h2>
<ul>
<li>People counting application is only available for IAR EWARM IDE.</li>
</ul>
<h2 id="development-toolchains-and-compilers-1">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.50.6</li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.28.0</li>
<li>STM32CubeIDE toolchain V1.5.0</li>
</ul>
<h2 id="supported-devices-and-boards-1">Supported Devices and Boards</h2>
<ul>
<li>STM32H747I-DISCO rev.D</li>
</ul>
<h2 id="dependencies-1">Dependencies</h2>
<p>This software release is compatible with:</p>
<ul>
<li><a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> V6.0.0</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section5" aria-hidden="true"> <label for="collapse-section5" aria-hidden="true"><strong>V2.1.0 / 17-February-2021</strong></label>
<div>
<h2 id="main-changes-2">Main Changes</h2>
<ul>
<li>Adds STM32 <strong>USB Webcam</strong> application.</li>
<li>Adds <strong>B-CAMS-OMV</strong> camera bundle support.</li>
<li>Deprecates <strong>STM32F4DIS-CAM</strong> (OV9655) support. Use <strong>B-CAMS-OMV</strong> camera bundle (OV5640) instead.</li>
<li>Improves the camera capture data acquisition flow with internal line buffer to support higher pixel clocks.</li>
<li>Updates <strong><a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a></strong> to <code>5.2.0</code>.</li>
<li>Changes SD card bus width to 1-bit to avoid conflicts with camera pins.</li>
</ul>
<h2 id="other-changes">Other Changes</h2>
<ul>
<li>Updates <strong>STM32H7xx CMSIS</strong> to <code>1.9.0</code> to keep components in sync.</li>
<li>Updates <strong>STM32H7xx HAL</strong> to <code>1.9.0</code> to fix USB re-enumeration issue.</li>
<li>Updates <strong>BSP STM32H747I-Discovery</strong> to <code>3.5.0</code> for Joystick, SD card and camera patch removal.</li>
<li>Updates <strong>BSP Common Components Drivers</strong> to <code>7.0.0</code> for BSP compatibility.</li>
<li>Updates <strong>OV9655 Component Driver</strong> to <code>2.2.0</code> fixing mirror/flip configuration and YUV format issues.</li>
<li>Adds <strong>OV5640 Component Driver</strong> for B-CAMS-OMV camera bundle support.</li>
<li>Adds <strong>STM32 USB Device Library</strong> <code>2.7.1</code> for the USB Webcam application.</li>
<li>Updates <strong>Basic GUI</strong>, renamed to <strong>LCD Utility Drivers</strong> to <code>2.0.1</code> for API compatibility with BSP STM32H747I-Discovery.</li>
<li>Removes unused utilities components: <strong>Common</strong>, <strong>CPU</strong>, <strong>Lcd_Trace</strong>.</li>
<li>Removes <strong>bmp_logos_128</strong> as they are provided in <code>.h</code> form under SLA0044 in Applications.</li>
</ul>
<h2 id="contents-2">Contents</h2>
<h3 id="projects-2">Projects</h3>
<p>The FP-AI-VISION1 package comes with several image classification application examples and a USB Video device class (Webcam) application running on the <a href="https://www.st.com/en/evaluation-tools/stm32h747i-disco.html">STM32H747I-DISCO</a> board.</p>
<h3 id="stm32h747i-disco-2">STM32H747I-DISCO</h3>
<ul>
<li>Applications (<a href="Projects/STM32H747I-DISCO/Applications/Release_Notes.html">release notes</a>)</li>
</ul>
<h2 id="known-limitations-2">Known Limitations</h2>
<ul>
<li>In memory dump mode, with camera Test Color Bar selected, the color bar pattern that is generated by the OV9655 camera is instable.</li>
<li>For the memory allocation configurations where the activation buffer is located in external SDRAM memory: the inference times which are measured are deteriorated compared to previous version of the FP.</li>
<li>Camera capture quality issue: in some cases, the camera capture image quality may be degraded with visible red and green pixels around edges. The issue occurs during camera initialization. If the issue occurs, the behaviour will be stable throughout the application run. A possible workaround is to reset the board until the issue is gone.</li>
<li>By default, when using the OV5640 camera, the frame capture is limited to 7.5 fps (PCLK=12MHz) to pass FCC certification. The OV5640 camera can be operated at 30 fps capture time when CAMERA_BOOST_PCLK=1.</li>
</ul>
<h2 id="development-toolchains-and-compilers-2">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.50.6</li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.28.0</li>
<li>STM32CubeIDE toolchain V1.5.0</li>
</ul>
<h2 id="supported-devices-and-boards-2">Supported Devices and Boards</h2>
<ul>
<li>STM32H747I-DISCO rev.D</li>
</ul>
<h2 id="dependencies-2">Dependencies</h2>
<p>This software release is compatible with:</p>
<ul>
<li><a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> V5.2.0</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section4" aria-hidden="true"> <label for="collapse-section4" aria-hidden="true"><strong>V2.0.0 / 24-July-2020</strong></label>
<div>
<h2 id="main-changes-3">Main Changes</h2>
<ul>
<li>Compatible with <a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> V5.1.2.</li>
<li>Reworking of the whole software architecture.</li>
<li>Addition of two Person Presence detection applications.</li>
<li>Optimization of the “full internal” memory allocation scheme: up to 30% saving in SRAM data memory space.</li>
</ul>
<h2 id="contents-3">Contents</h2>
<h3 id="projects-3">Projects</h3>
<h4 id="the-fp-ai-vision1-package-comes-with-several-image-classification-application-examples-running-on-the-stm32h747i-disco-board.">The FP-AI-VISION1 package comes with several image classification application examples running on the <a href="https://www.st.com/en/evaluation-tools/stm32h747i-disco.html">STM32H747I-DISCO</a> board.</h4>
<h3 id="stm32h747i-disco-3">STM32H747I-DISCO</h3>
<ul>
<li>Applications (<a href="Projects/STM32H747I-DISCO/Applications/Release_Notes.html">release notes</a>)</li>
</ul>
<h2 id="known-limitations-3">Known Limitations</h2>
<ul>
<li>In memory dump mode, with camera Test Color Bar selected, the color bar pattern that is generated by the OV9655 camera is instable.</li>
<li>For the memory allocation configurations where the activation buffer is located in external SDRAM memory: the inference times which are measured are deteriorated compared to previous version of the FP.</li>
<li>Camera capture quality issue: in some cases, the camera capture image quality may be degraded with visible red and green pixels around edges. The issue occurs during camera initialization. If the issue occurs, the behaviour will be stable throughout the application run. A possible workaround is to reset the board until the issue is gone.</li>
</ul>
<h2 id="development-toolchains-and-compilers-3">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.40.2</li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.28.0</li>
<li>STM32Cube.IDE toolchain V1.3.0</li>
</ul>
<h2 id="supported-devices-and-boards-3">Supported Devices and Boards</h2>
<ul>
<li>STM32H747I-DISCO rev.D</li>
</ul>
<h2 id="dependencies-3">Dependencies</h2>
<p>This software release is compatible with:</p>
<ul>
<li><a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> V5.1.2</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section3" aria-hidden="true"> <label for="collapse-section3" aria-hidden="true"><strong>V1.1.0 / 23-December-2019</strong></label>
<div>
<h2 id="main-changes-4">Main Changes</h2>
<ul>
<li>Compatible with <a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> V5.0.0.</li>
<li>Support for integer arithmetic quantization schemes.</li>
<li>Support for the overlay in memory of the neural network input buffer with the activations buffer (resulting in optimized SRAM memory footprint).</li>
<li>Addition of libraries for debugging and validating the embedded neural network application.</li>
<li>Addition of FatFs third-party middleware component.</li>
<li>Addition of STM32_Fs middleware component providing an abstraction on top of FatFs component for file management over SD interface.</li>
</ul>
<h2 id="contents-4">Contents</h2>
<h3 id="projects-4">Projects</h3>
<h4 id="the-fp-ai-vision1-package-comes-with-an-image-classification-application-example-running-on-the-stm32h747i-disco-board.">The FP-AI-VISION1 package comes with an image classification application example running on the <a href="https://www.st.com/en/evaluation-tools/stm32h747i-disco.html">STM32H747I-DISCO</a> board.</h4>
<h3 id="stm32h747i-disco-4">STM32H747I-DISCO</h3>
<ul>
<li>Application (<a href="Projects/STM32H747I-DISCO/Applications/Release_Notes.html">release notes</a>)</li>
</ul>
<h2 id="known-limitations-4">Known Limitations</h2>
<ul>
<li>Performance issue when building the Float C model firmware with MDK-ARM toolchain.</li>
</ul>
<h2 id="development-toolchains-and-compilers-4">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.40.2</li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.27.1</li>
<li>STM32Cube.IDE toolchain V1.1.0</li>
</ul>
<h2 id="supported-devices-and-boards-4">Supported Devices and Boards</h2>
<ul>
<li>STM32H747I-DISCO rev.D</li>
</ul>
<h2 id="dependencies-4">Dependencies</h2>
<p>This software release is compatible with:</p>
<ul>
<li><a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> V5.0.0</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section2" aria-hidden="true"> <label for="collapse-section2" aria-hidden="true"><strong>V1.0.1 / 03-October-2019</strong></label>
<h2 id="main-changes-5">Main Changes</h2>
<ul>
<li>Patch release so to enable proper startup of Cortex-M4 core.</li>
<li><strong>Applications</strong> (<a href="Projects/STM32H747I-DISCO/Applications/Release_Notes.html">release notes</a>)</li>
</ul>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section1" aria-hidden="true"> <label for="collapse-section1" aria-hidden="true"><strong>V1.0.0 / 19-July-2019</strong></label>
<div>
<h2 id="main-changes-6">Main Changes</h2>
<h3 id="first-official-release-of-fp-ai-vision1-package"><strong>First official release of FP-AI-VISION1 package</strong></h3>
<h2 id="contents-5">Contents</h2>
<h3 id="projects-5">Projects</h3>
<h4 id="the-fp-ai-vision1-package-comes-with-an-image-classification-application-example-running-on-the-stm32h747i-disco-board.-1">The FP-AI-VISION1 package comes with an image classification application example running on the <a href="https://www.st.com/en/evaluation-tools/stm32h747i-disco.html">STM32H747I-DISCO</a> board.</h4>
<h3 id="stm32h747i-disco-5">STM32H747I-DISCO</h3>
<ul>
<li>Application (<a href="Projects/STM32H747I-DISCO/Applications/Release_Notes.html">release notes</a>)</li>
</ul>
<h2 id="known-limitations-5">Known Limitations</h2>
<ul>
<li>None</li>
</ul>
<h2 id="development-toolchains-and-compilers-5">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.30 + ST-LINKV3, patch available here:
<ul>
<li><a href="Utilities/PC_Software/IDEs_Patches/EWARM/EWARMv8_STM32H7xx_Support_V1.zip">Utilities/PC_Software/IDEs_Patches/EWARM/EWARMv8_STM32H7xx_Support_V1.zip</a></li>
</ul></li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.27</li>
<li>System Workbench for STM32 (SW4STM32) toolchain V2.9.1 + ST-Link</li>
</ul>
<h2 id="supported-devices-and-boards-5">Supported Devices and Boards</h2>
<ul>
<li>STM32H747I-DISCO rev.D</li>
</ul>
<h2 id="backward-compatibility">Backward Compatibility</h2>
<ul>
<li>None</li>
</ul>
<h2 id="dependencies-5">Dependencies</h2>
<p>This software release is compatible with:</p>
<ul>
<li><a href="https://www.st.com/en/embedded-software/x-cube-ai.html">X-CUBE-AI</a> V4.0.0</li>
</ul>
</div>
</div>
</section>
</div>
<footer class="sticky">
<p>For complete documentation on <strong>STM32 Microcontrollers </strong> , visit: <a href="http://www.st.com/STM32">www.st.com</a></p>
This release note uses up to date web standards and, for this reason, should not be opened with Internet Explorer but preferably with popular browsers such as Google Chrome, Mozilla Firefox, Opera or Microsoft Edge.
</footer>
</body>
</html>
